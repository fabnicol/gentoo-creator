# Options file

# This files contains specifications of command line
# It is read be scripts and should be kept read-only
# All fields should be double-quoted
# Blank space is free as well as # comments
# Do not use more than just one line per option (no inlined breaks)
# 4 columns are used.
# Type is in:"b", "f", "d", "o", "u", "s", "n", "e", "vm" (see Doxygen Doc)
# Conditional type is of the form "x:y":  [ -z "$x" ] <=> { [ "$y" = "false" ] ||  [ -z "$y" ]; } && [ "$y" != "true" ]
# debug_mode and verbose should be placed on top so that they are set by default earlier in function test_cli()

#    "Option name"        "Description"                                                                                  "Default value" "Type"

     "debug_mode"         "Do not clean up gentoolize custom logs at root of gentoo system files before VM shutdown. Boolean."   "false" "b"
     "verbose"            "Increase verbosity"                                                                                   "false" "b"
     "bios"           "Type of bootloader: bios or efi. Use only 'bios', tweaking not supported but might be at later stages."    "true" "b"
     "blank"              "Blank rewritable optical disk before burning installation image."                                     "false" "b"
     "build_virtualbox"   "Download code source and automatically build virtualbox and tools. Yields VirtualBox and vbox-img executables under main directory and subdirectory virtualbox with the build, including documentation."                                   "false" "b"
     "burn"               "Burn to optical disc. Boolean."                                                                       "false" "b"
     "cdrecord"           "cdrecord full path. Automatically determined if left unspecified."                        "$(which cdrecord)" "f:burn"
     "compact"            "Compact virtual disk after VM building. Caution: this may impede hot_install and ext_device."         "false" "b"
     "cflags"             "GCC CFLAGS options for ebuilds"                                                           "-march=native -O2" ""
     "cleanup"            "Clean up archives, temporary images and virtual machine after successful completion. Boolean."         "true" "b"
     "remove_vdi"         "Full clean-up: also remove VDI disks"                                                                "false"  "b"
     "clonezilla_install" "Use the CloneZilla live CD instead of the official Gentoo minimal install CD. May be more robust for headless install, owing to a VB bug requiring artificial keyboard input (see doc)."  "false" "b"
     "cloning_method"     "Method used by hot_install ext_device=... to intall Gentoo to disk. One of: 'guestfish' (default), 'with-raw-buffer' (slower) or 'vbox-img' (currently unavailable)" "guestfish"  "s:ext_device"
     "cpuexecutioncap"    "Maximum percentage of CPU per core (0 to 100)"                                                          "100" "n"
     "create_squashfs"    "(Re)create the squashfs filesystem. Boolean."                                                          "true" "b"
     "device_installer"   "Create Gentoo clone installer on external device. Argument is either a device label (e.g. sdb, hdb), or a mountpoint directory (if mounted), or a few consecutive letters of the model, if there is just one such. If unspecified, **usb_device** value will be used. OS Gentoo will be replaced by Clonezilla installer."  "" ""
     "disable_md5_check"  "Disable MD5 checkums verification after downloads. Boolean."                                           "true" "b"
     "download"           "Download install ISO image from Gentoo mirror. Boolean."                                               "true" "b"
     "download_clonezilla""Refresh CloneZilla ISO download. An ISO file must have been downloaded to create the recovery image of the Gentoo platform once the virtual machine has ended its job. Boolean"                    "true" "b"
     "download_clonezilla_path" "Download the following CloneZilla ISO"                       "https://sourceforge.net/projects/clonezilla/files/clonezilla_live_alternative/20200703-focal/clonezilla-live-20200703-focal-amd64.iso/download" "u"
     "download_rstudio"   "Download and build RStudio. Boolean."                                                                  "true" "b"
     "download_arch"      "Download and install stage3 archive to virtual disk. Booelan."                                         "true" "b"
     "elist"              "File containing a list of Gentoo ebuilds to add to the VM on top of stage3. Note: if the default value is not used, adjust the names of the 'elist'.accept_keywords and 'elist'.use files" "ebuilds.list" "f"
     "email"              "Email address to send warning to when Gentoo has been created."                                            "" "e"
     "email_passwd"       "Email password"                                                                                            "" "s:email"
     "emirrors"           "Mirror sites for downloading ebuilds"                       "http://gentoo.mirrors.ovh.net/gentoo-distfiles/" "u"
     "ext_device"         "Create Gentoo OS on external device. Argument is either a device label (e.g. sdb, hdb), or a mountpoint directory (if mounted), or a few consecutive letters of the model (e.g. 'Samsu', 'PNY' or 'Kingst'), if there is just one such. Requires *hot_install* on commandline."    "" "s:hot_install"

     "force"              "Forcefully creates machine even if others with same same exist. Stops and restarts VBox daemons. Not advised if other VMs are running." "true" "b"
     "from_device"        "Do not Generate Gentoo but use the external device on which Gentoo was previously installed. Boolean.""false" "b"
     "from_iso"           "Do not generate Gentoo but use the bootable ISO given on commandline by iso_output=...iso. Boolean."  "false" "b"
     "from_vm"            "Do not generate Gentoo but use the VM ${VM}. Boolean."                                                "false" "b"
     "githubpath"         "RStudio Github path to zip: path right before version.zip"     "https://github.com/rstudio/rstudio/archive/v" "u"
     "gui"                "Binary: true corresponds to VBoxManage startvm ... --type=gui, false to --type=headless"               "true" "b"
     "help"               "This help"                                                                                                ""  ""
     "hot_install"        "Intall to Gentoo attached device (like /dev/sdb) possibly mounted (like /media/$USER/567EAF). To be used with *ext_device=...*"        "false"  "b"
     "hwvirtex"           "Activate HWVIRTEX: on/off"                                                                               "on" "o"
     "interactive"        "Allow interaction with user. This may cause deadlock if process is detached from the console (*nohup* or other methods)" "true" "b"
     "ioapic"             "IOAPIC parameter: on or off"                                                                             "on" "o"
     "kernel_config"      "Use a custom kernel config file"                                                                 ".config"    "f"
     "language"           "Set default login keyboard layout"                                                               "us"         "s"
     "lineno_patch"       "Line patched against vbox-img.cpp in virtualbox source code"                                     "797"        "n"
     "livecd"             "Path to the live CD that will start the VM"                                                      "gentoo.iso" "f"
     "mem"                "VM RAM memory in MiB"                                                                            "8000"       "n"
     "minimal"            "Remove *libreoffice* and *data science tools* from default list of installed software. Boolean."      "false" "b"
     "mirror"             "Mirror site for downloading of stage3 tarball"              "http://gentoo.mirrors.ovh.net/gentoo-distfiles/" "u"
     "ncpus"              "Number of VM CPUs. By default the third of available threads."                        "$(($(nproc --all)/3))" "n"
     "nonroot_user"       "Non-root user"                                                                                          "fab" "s"
     "pae"                "Activate PAE: on/off"                                                                                   "on"  "o"
     "paravirtprovider"   "Virtualization interface: kvm for GNU/Linux, may be tweaked (see VirtualBox documentation)"             "kvm" "s"
     "passwd"             "User password"                                                                                             "" "s:vm"
     "processor"          "Processor type"                                                                                       "amd64" "s"
     "quiet"              "Silence output except for the most severe errors."                                                    "false" "b"
     "logging"            "Activate logging"                                                                                      "true" "b"
     "remove_vdi"         "Remove virtual disk on clean-up"                                                                      "false" "b"
     "rootpasswd"         "Root password"                                                                                             "" "s:vm"
     "rstudio"            "RStudio version to be downloaded and built from github source"                                     "1.3.1073" "s"
     "rtcuseutc"          "Use UTC as time reference: on/off"                                                                    "on"    "o"
     "r_version"          "R version"                                                                                            "4.0.2" "s"
     "scsi_address"       "In case of several optical disc burners, specify the SCSI address as x,y,z"                                "" ""
     "size"               "Dynamic disc size"                                                                                    "55000" "n"
     "smtp_url"           "SMTP URL of email provider for end-of-job warning. Default: gmail SMTP"          "smtps://smtp.gmail.com:465" "u"
     "stage3"             "Path to stage3 archive"                                                                       "stage3.tar.xz" "f"
     "usbehci"            "Activate USB2 driver: on/off"                                                                           "off" "o"
     "usbxhci"            "Activate USB3 driver: on/off. Note: if on, needs extension pack."                                       "off" "o"
     "vm"                 "Virtual Machine name. Unless 'force=true' is used, a time stamp will be appended to avoid registry issues with prior VMs of the same name."  "Gentoo" "vm"
     "vbox_version"       "Virtualbox version"                                                                                "6.1.14"   "s"
     "vbox_version_full"  "Virtualbox full version"                                                                           "6.1.14a"  "s"
     "vbpath"             "Path to VirtualBox directory"                                                                      "/usr/bin" "d"
     "vmpath"             "Path to VM base directory"                                                                         "$PWD"     "d"
     "vtxvpid"            "Activate VTXVPID: on/off"                                                                          "on"       "o"
